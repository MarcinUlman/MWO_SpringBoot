<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout">
<body>

	<span layout:fragment="pageTitle"> - Uczniowie </span>

	<div layout:fragment="content">
		<div th:include="menuFragment"></div>
		<br /> <Br />
		<table border="1" cellpadding="5">
			<tr>
				<th>Id</th>
				<th>Imie</th>
				<th>Nazwisko</th>
				<th>PESEL</th>
				<th>Klasa</th>
				<th>Szko≈Ça</th>
				<th>Akcje</th>
			</tr>
			<tr th:each="student: ${studentsListFromDB}">
				<td><span th:text="${student.id}" /></td>
				<td><span th:text="${student.name}" /></td>
				<td><span th:text="${student.surname}" /></td>
				<td><span th:text="${student.pesel}" /></td>
				<td><div th:each="schoolClass: ${schoolClasses}">
					<span th:each="studentsInSchool: ${schoolClass.students}"
						th:if="${studentsInSchool.id == student.id}"
						th:text="${schoolClass.profile} + ', Rok rozpoczecia: ' 
									+ ${schoolClass.startYear} + ', Obecny rok: ' + ${schoolClass.currentYear}"/>
				</div></td>
				<td><div th:each="school: ${schools}">
						<div th:each="classInSchool: ${school.classes}">
							<span th:each="studentsInSchool: ${classInSchool.students}"
						th:if="${studentsInSchool.id == student.id}"
						th:text="${school.name}"/>
				</div></div></td>
				<td style="padding: 0px; ">
					<form action="/DeleteStudent" method="POST" style="margin : 0px">
						<input type="hidden" name="studentId" th:value="${student.id}" />
						<button type="submit" style="width: 100%; height: 25px; margin: 0px; padding: 0px">X</button>
					</form>
					<form action="/EditStudent" method="POST" style="margin : 0px">
						<input type="hidden" name="studentId" th:value="${student.id}" />
						<button type="submit" style="width: 100%; height: 25px; margin: 0px; padding: 0px">Edit</button>
					</form>
				</td>
			</tr>


		</table>
		<br /> <a href='/AddStudent'>dodaj ucznia</a><br /> <br />

	</div>

</body>
</html>